<?php \Fc2blog\Web\Html::addJS('/js/admin/syntax_check.js'); ?>

<script>
<?php
  // テンプレート置換用変数読み込み
  \Fc2blog\Config::read('fc2_template.php');
  $template_syntaxes = array_merge(array_keys(\Fc2blog\Config::get('fc2_template_foreach')), array_keys(\Fc2blog\Config::get('fc2_template_if')));
?>
var template_syntaxes = <?php echo json_encode($template_syntaxes); ?>;
$(function(){
  // タグ構文の簡易入力チェックを行う
  $('textarea[name="blog_plugin[contents]"]').on('blur', function(){
    syntax.check('textarea[name="blog_plugin[contents]"]');
  });
  // タグ構文の簡易入力チェックを行う
  $('textarea[name="blog_plugin[list]"]').on('blur', function(){
    syntax.check('textarea[name="blog_plugin[list]"]');
  });
  $('textarea[name="blog_plugin[list]"]').trigger('blur');
  $('textarea[name="blog_plugin[contents]"]').trigger('blur');
});
</script>

